<!ODCTYPE html>
<html>
  <body>
    
<form action="http://www3.lenoxsoft.com/l/5336/2023-03-22/2jm27t" method="post" onsubmit="splitName()">
     <label for="name">Name1:</label>
        <input style="text-transform: capitalize;" type="text" id="name" required>
        <input type="hidden" id="firstName" name="firstName">
        <input type="hidden" id="lastName" name="lastName">
    <label>Adres e-mail </label>
    <input type="email" name="email" /></br>
    <label>Telefon</label>
    <input type="text" name="number" /></br>
    <label>Firma</label>
    <input type="text" name="company" /></br>
<label>Liczba użytkowników</label>
    <select name="numberofusers" type="text"></br>
        <option value="1">1</option>
        <option value="5-10">5-10</option>
        <option value="11-20">11-20</option>
        <option value="21-50">21-20</option>
        <option value="51-200">51-200</option>
        <option value="201-500">201-500</option>
        <option value="500+">500+</option>
    </select></br>
    <input type="submit" value="Submit">
    </form>
<script>
        function splitName() {
            console.log('im here onchange');
            // Get the name input value
            const nameInput = document.getElementById("name");
            nameInput.value = nameInput.value.replace(/[^a-zA-Z0-9 ]/g, '');

            const name = nameInput.value.trim(); // Trim any leading/trailing spaces
            
            // Split the name by space
            const nameArray = name.split(/\s+(?=\S)/); // Split by one or more spaces
            console.log(nameArray);

            // Set the first name and last name inputs
            const firstNameInput = document.getElementById("firstName");
            firstNameInput.value = nameArray.slice(0, -1).join(" ");

            const lastNameInput = document.getElementById("lastName");
            lastNameInput.value = nameArray[nameArray.length - 1];

            console.log('lastName -> ' + lastNameInput.value);
            console.log('firstName -> ' + firstNameInput.value);
        }
    </script>
</body>
</html>
